(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"v9904"}}catch{}})();try{(function(){var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="bef8d4b2-0f32-485c-a74c-be2f13151796",e._sentryDebugIdIdentifier="sentry-dbid-bef8d4b2-0f32-485c-a74c-be2f13151796")})()}catch{}(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[new e.Error().stack]=function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r!=null)for(var a in r)r.hasOwnProperty(a)&&(t[a]=r[a])}return t}({},e._sentryModuleMetadata[new e.Error().stack],{"_sentryBundlerPluginAppKey:hexlet.io":!0})}catch{}})();function Gt(e){const t={enabled:!0},n=()=>typeof window>"u"||typeof document>"u"?!1:typeof window.ym=="function",r=a=>!!a.enabled&&n();return{name:"yandexMetrika",config:{...t,...e},initialize({config:a}){if(!(!a.enabled||n())){if(!a.counterId)throw new Error("YandexMetrikaPlugin: counterId is required.");((u,c,s,I,d)=>{u[d]??(u[d]=function(...P){var m;u.ym&&((m=u.ym).a??(m.a=[]),u.ym.a.push(P))}),u[d].l=new Date().getTime();const A=c.createElement(s),p=c.getElementsByTagName(s)[0];A.async=!0,A.src=I,p.parentNode?.insertBefore(A,p)})(window,document,"script","https://mc.yandex.ru/metrika/tag.js","ym"),window.ym??(window.ym=(...u)=>{var c;((c=window.ym).a??(c.a=[])).push(u)}),window.ym(a.counterId,"init",{clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0})}},loaded(){return n()},track:({payload:a,config:u})=>{if(!r(u))return;const c=u.mapEvents||{},s=c[a.event]||a.event;u.dev&&!c[a.event]&&console.warn(`[YandexMetrika] No mapped goal for event "${a.event}", sending as-is`),window.ym(u.counterId,"reachGoal",s,a.properties)},page:({payload:a,config:u})=>{if(!r(u))return;const{properties:c={}}=a,s=c.url??window.location.href;window.ym(u.counterId,"hit",s,c)},identify:({payload:a,config:u})=>{if(!r(u))return;const c=a.traits;if(window.ym(u.counterId,"setUserID",a.userId),c&&Object.keys(c).length>0){window.ym(u.counterId,"userParams",{...c,UserID:a.userId});const s={};c.email&&(s.email=c.email),c.phone_number&&(s.phone_number=c.phone_number),c.first_name&&(s.first_name=c.first_name),c.last_name&&(s.last_name=c.last_name),c.yandex_cid&&(s.yandex_cid=c.yandex_cid),window.ym(u.counterId,"firstPartyParams",s)}}}}function at(e,t,n,r,a){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:a;return e===a?n:e}var Ht="function",Kt="string",Y="undefined",Qt="boolean",Me="object",Zt="array",en="number",tn="symbol",nn="null",xt="any",kt="*",ce="__",rn="form",an="input",on="button",un="select",De=typeof process!==Y?process:{};De.env&&De.env.NODE_ENV;var W=typeof document!==Y;De.versions!=null&&De.versions.node!=null;typeof Deno!==Y&&Deno.core;W&&window.name==="nodejs"||typeof navigator!==Y&&typeof navigator.userAgent!==Y&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom"));function jt(e,t){return t.charAt(0)[e]()+t.slice(1)}var cn=jt.bind(null,"toUpperCase"),sn=jt.bind(null,"toLowerCase");function ln(e){return Nt(e)?cn(nn):typeof e===Me?gn(e):Object.prototype.toString.call(e).slice(8,-1)}function ze(e,t){t===void 0&&(t=!0);var n=ln(e);return t?sn(n):n}function Oe(e,t){return typeof t===e}var G=Oe.bind(null,Ht),pe=Oe.bind(null,Kt),fe=Oe.bind(null,Y),fn=Oe.bind(null,Qt);Oe.bind(null,tn);function Nt(e){return e===null}function dn(e){return ze(e)===en&&!isNaN(e)}function pn(e){return ze(e)===Zt}function J(e){if(!mn(e))return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function mn(e){return e&&(typeof e===Me||e!==null)}function gn(e){return G(e.constructor)?e.constructor.name:null}function vn(e){return e instanceof Error||pe(e.message)&&e.constructor&&dn(e.constructor.stackTraceLimit)}function At(e,t){if(typeof t!="object"||Nt(t))return!1;if(t instanceof e)return!0;var n=ze(new e(""));if(vn(t))for(;t;){if(ze(t)===n)return!0;t=Object.getPrototypeOf(t)}return!1}At.bind(null,TypeError);At.bind(null,SyntaxError);function Le(e,t){var n=e instanceof Element||e instanceof HTMLDocument;return n&&t?yn(e,t):n}function yn(e,t){return t===void 0&&(t=""),e&&e.nodeName===t.toUpperCase()}function Ue(e){var t=[].slice.call(arguments,1);return function(){return e.apply(void 0,[].slice.call(arguments).concat(t))}}Ue(Le,rn);Ue(Le,on);Ue(Le,an);Ue(Le,un);function ot(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function hn(){if(W){var e=navigator,t=e.languages;return e.userLanguage||(t&&t.length?t[0]:e.language)}}function bn(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}}function wn(e){return function(t){for(var n,r=Object.create(null),a=/([^&=]+)=?([^&]*)/g;n=a.exec(t);){var u=ot(n[1]),c=ot(n[2]);if(u)if(u.substring(u.length-2)==="[]"){var s=r[u=u.substring(0,u.length-2)]||(r[u]=[]);r[u]=Array.isArray(s)?s:[],r[u].push(c)}else r[u]=c===""||c}for(var I in r){var d=I.split("[");d.length>1&&(In(r,d.map(function(A){return A.replace(/[?[\]\\ ]/g,"")}),r[I]),delete r[I])}return r}(function(t){return W&&window.location.search.substring(1)}())}function In(e,t,n){for(var r=t.length-1,a=0;a<r;++a){var u=t[a];if(u==="__proto__"||u==="constructor")break;u in e||(e[u]={}),e=e[u]}e[t[r]]=n}function Ce(){for(var e="",t=0,n=4294967295*Math.random()|0;t++<36;){var r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx"[t-1],a=15&n;e+=r=="-"||r=="4"?r:(r=="x"?a:3&a|8).toString(16),n=t%8==0?4294967295*Math.random()|0:n>>4}return e}var ae="global",ye=ce+ae+ce,he=typeof self===Me&&self.self===self&&self||typeof global===Me&&global[ae]===global&&global||void 0;function se(e){return he[ye][e]}function le(e,t){return he[ye][e]=t}function we(e){delete he[ye][e]}function Ie(e,t,n){var r;try{if(Qe(e)){var a=window[e];r=a[t].bind(a)}}catch{}return r||n}he[ye]||(he[ye]={});var ke={};function Qe(e){if(typeof ke[e]!==Y)return ke[e];try{var t=window[e];t.setItem(Y,Y),t.removeItem(Y)}catch{return ke[e]=!1}return ke[e]=!0}function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(null,arguments)}var ne="function",Q="undefined",Se="reducer",Tt="@@redux/",We=Tt+"INIT",En=Tt+Math.random().toString(36),ut=function(){return typeof Symbol===ne&&Symbol.observable||"@@observable"}(),je=" != "+ne;function $t(e,t,n){var r;if(typeof t===ne&&typeof n===Q&&(n=t,t=void 0),typeof n!==Q){if(typeof n!==ne)throw new Error("enhancer"+je);return n($t)(e,t)}if(typeof e!==ne)throw new Error(Se+je);var a=e,u=t,c=[],s=c,I=!1;function d(){s===c&&(s=c.slice())}function A(){return u}function p(m){if(typeof m!==ne)throw new Error("Listener"+je);var $=!0;return d(),s.push(m),function(){if($){$=!1,d();var E=s.indexOf(m);s.splice(E,1)}}}function P(m){if(!J(m))throw new Error("Act != obj");if(typeof m.type===Q)throw new Error("ActType "+Q);if(I)throw new Error("Dispatch in "+Se);try{I=!0,u=a(u,m)}finally{I=!1}for(var $=c=s,E=0;E<$.length;E++)(0,$[E])();return m}return P({type:We}),(r={dispatch:P,subscribe:p,getState:A,replaceReducer:function(m){if(typeof m!==ne)throw new Error("next "+Se+je);a=m,P({type:We})}})[ut]=function(){var m,$=p;return(m={subscribe:function(E){if(typeof E!="object")throw new TypeError("Observer != obj");function w(){E.next&&E.next(A())}return w(),{unsubscribe:$(w)}}})[ut]=function(){return this},m},r}function Pn(e,t){var n=t&&t.type;return"action "+(n&&n.toString()||"?")+Se+" "+e+" returns "+Q}function be(){var e=[].slice.call(arguments);return e.length===0?function(t){return t}:e.length===1?e[0]:e.reduce(function(t,n){return function(){return t(n.apply(void 0,[].slice.call(arguments)))}})}function Sn(){var e=arguments;return function(t){return function(n,r,a){var u,c=t(n,r,a),s=c.dispatch,I={getState:c.getState,dispatch:function(d){return s(d)}};return u=[].slice.call(e).map(function(d){return d(I)}),y({},c,{dispatch:s=be.apply(void 0,u)(c.dispatch)})}}}var re=ce+"anon_id",oe=ce+"user_id",me=ce+"user_traits",Ge="analytics",te="userId",de="anonymousId",$e=["bootstrap","params","campaign","initializeStart","initialize","initializeEnd","ready","resetStart","reset","resetEnd","pageStart","page","pageEnd","pageAborted","trackStart","track","trackEnd","trackAborted","identifyStart","identify","identifyEnd","identifyAborted","userIdChanged","registerPlugins","enablePlugin","disablePlugin","online","offline","setItemStart","setItem","setItemEnd","setItemAborted","removeItemStart","removeItem","removeItemEnd","removeItemAborted"],He=["name","EVENTS","config","loaded"],v=$e.reduce(function(e,t){return e[t]=t,e},{registerPluginType:function(e){return"registerPlugin:"+e},pluginReadyType:function(e){return"ready:"+e}}),ct=/^utm_/,st=/^an_prop_/,lt=/^an_trait_/;function _n(e){var t=e.storage.setItem;return function(n){return function(r){return function(a){if(a.type===v.bootstrap){var u=a.params,c=a.user,s=a.persistedUser,I=a.initialUser,d=s.userId===c.userId;s.anonymousId!==c.anonymousId&&t(re,c.anonymousId),d||t(oe,c.userId),I.traits&&t(me,y({},d&&s.traits?s.traits:{},I.traits));var A=Object.keys(a.params);if(A.length){var p=u.an_uid,P=u.an_event,m=A.reduce(function($,E){if(E.match(ct)||E.match(/^(d|g)clid/)){var w=E.replace(ct,"");$.campaign[w==="campaign"?"name":w]=u[E]}return E.match(st)&&($.props[E.replace(st,"")]=u[E]),E.match(lt)&&($.traits[E.replace(lt,"")]=u[E]),$},{campaign:{},props:{},traits:{}});n.dispatch(y({type:v.params,raw:u},m,p?{userId:p}:{})),p&&setTimeout(function(){return e.identify(p,m.traits)},0),P&&setTimeout(function(){return e.track(P,m.props)},0),Object.keys(m.campaign).length&&n.dispatch({type:v.campaign,campaign:m.campaign})}}return r(a)}}}}function On(e){return function(t,n){if(t===void 0&&(t={}),n===void 0&&(n={}),n.type===v.setItemEnd){if(n.key===re)return y({},t,{anonymousId:n.value});if(n.key===oe)return y({},t,{userId:n.value})}switch(n.type){case v.identify:return Object.assign({},t,{userId:n.userId,traits:y({},t.traits,n.traits)});case v.reset:return[oe,re,me].forEach(function(r){e.removeItem(r)}),Object.assign({},t,{userId:null,anonymousId:null,traits:{}});default:return t}}}function ft(e){return{userId:e.getItem(oe),anonymousId:e.getItem(re),traits:e.getItem(me)}}var Ke=function(e){return ce+"TEMP"+ce+e};function xn(e){var t=e.storage,n=t.setItem,r=t.removeItem,a=t.getItem;return function(u){return function(c){return function(s){var I=s.userId,d=s.traits,A=s.options;if(s.type===v.reset&&([oe,me,re].forEach(function(m){r(m)}),[te,de,"traits"].forEach(function(m){we(Ke(m))})),s.type===v.identify){a(re)||n(re,Ce());var p=a(oe),P=a(me)||{};p&&p!==I&&u.dispatch({type:v.userIdChanged,old:{userId:p,traits:P},new:{userId:I,traits:d},options:A}),I&&n(oe,I),d&&n(me,y({},P,d))}return c(s)}}}}var Pe={};function dt(e,t){Pe[e]&&G(Pe[e])&&(Pe[e](t),delete Pe[e])}function Mt(e,t,n){return new Promise(function(r,a){return t()?r(e):n<1?a(y({},e,{queue:!0})):new Promise(function(u){return setTimeout(u,10)}).then(function(u){return Mt(e,t,n-10).then(r,a)})})}function kn(e){return{abort:e}}function Dt(e,t,n){var r={},a=t(),u=e.getState(),c=u.plugins,s=u.queue,I=u.user;if(!u.context.offline&&s&&s.actions&&s.actions.length){var d=s.actions.reduce(function(p,P,m){return c[P.plugin].loaded?(p.process.push(P),p.processIndex.push(m)):(p.requeue.push(P),p.requeueIndex.push(m)),p},{processIndex:[],process:[],requeue:[],requeueIndex:[]});if(d.processIndex&&d.processIndex.length){d.processIndex.forEach(function(p){var P=s.actions[p],m=P.plugin,$=P.payload.type,E=a[m][$];if(E&&G(E)){var w,k=function(g,l){return g===void 0&&(g={}),l===void 0&&(l={}),[te,de].reduce(function(D,_){return g.hasOwnProperty(_)&&l[_]&&l[_]!==g[_]&&(D[_]=l[_]),D},g)}(P.payload,I),M=r[k.meta.rid];if(!M&&(w=E({payload:k,config:c[m].config,instance:n,abort:kn}))&&J(w)&&w.abort)return void(r[k.meta.rid]=!0);if(!M){var T=$+":"+m;e.dispatch(y({},k,{type:T,_:{called:T,from:"queueDrain"}}))}}});var A=s.actions.filter(function(p,P){return!~d.processIndex.indexOf(P)});s.actions=A}}}var Je=function(e){var t=e.data,n=e.action,r=e.instance,a=e.state,u=e.allPlugins,c=e.allMatches,s=e.store,I=e.EVENTS;try{var d=a.plugins,A=a.context,p=n.type,P=p.match(ge),m=t.exact.map(function(w){return w.pluginName});P&&(m=c.during.map(function(w){return w.pluginName}));var $=function(w,k){return function(M,T,g){var l=T.config,D=T.name,_=D+"."+M.type;g&&(_=g.event);var j=M.type.match(ge)?function(L,z,F,U,X){return function(q,h){var V=U?U.name:L,B=h&&_e(h)?h:F;if(U&&(!(B=h&&_e(h)?h:[L]).includes(L)||B.length!==1))throw new Error("Method "+z+" can only abort "+L+" plugin. "+JSON.stringify(B)+" input valid");return y({},X,{abort:{reason:q,plugins:B,caller:z,_:V}})}}(D,_,k,g,M):function(L,z){return function(){throw new Error(L.type+" action not cancellable. Remove abort in "+z)}}(M,_);return{payload:jn(M),instance:w,config:l||{},abort:j}}}(r,m),E=t.exact.reduce(function(w,k){var M=k.pluginName,T=k.methodName,g=!1;return T.match(/^initialize/)||T.match(/^reset/)||(g=!d[M].loaded),A.offline&&T.match(/^(page|track|identify)/)&&(g=!0),w[""+M]=g,w},{});return Promise.resolve(t.exact.reduce(function(w,k,M){var T=k.pluginName;return Promise.resolve(w).then(function(g){function l(){return Promise.resolve(g)}var D=function(){if(t.namespaced&&t.namespaced[T])return Promise.resolve(t.namespaced[T].reduce(function(_,j,L){return Promise.resolve(_).then(function(z){return j.method&&G(j.method)?(function(q,h){var V=bt(q);if(V&&V.name===h){var B=bt(V.method);throw new Error([h+" plugin is calling method "+q,"Plugins cant call self","Use "+V.method+" "+(B?"or "+B.method:"")+" in "+h+" plugin insteadof "+q].join(`
`))}}(j.methodName,j.pluginName),Promise.resolve(j.method({payload:z,instance:r,abort:(F=z,U=T,X=j.pluginName,function(q,h){return y({},F,{abort:{reason:q,plugins:h||[U],caller:p,from:X||U}})}),config:gt(j.pluginName,d,u),plugins:d})).then(function(q){var h=J(q)?q:{};return Promise.resolve(y({},z,h))})):z;var F,U,X})},Promise.resolve(n))).then(function(_){g[T]=_});g[T]=n}();return D&&D.then?D.then(l):l()})},Promise.resolve({}))).then(function(w){return Promise.resolve(t.exact.reduce(function(k,M,T){try{var g=t.exact.length===T+1,l=M.pluginName,D=u[l];return Promise.resolve(k).then(function(_){var j=w[l]?w[l]:{};if(P&&(j=_),Xe(j,l))return Fe({data:j,method:p,instance:r,pluginName:l,store:s}),Promise.resolve(_);if(Xe(_,l))return g&&Fe({data:_,method:p,instance:r,store:s}),Promise.resolve(_);if(E.hasOwnProperty(l)&&E[l]===!0)return s.dispatch({type:"queue",plugin:l,payload:j,_:{called:"queue",from:"queueMechanism"}}),Promise.resolve(_);var L=$(w[l],u[l]);return Promise.resolve(D[p]({abort:L.abort,payload:j,instance:r,config:gt(l,d,u),plugins:d})).then(function(z){var F=J(z)?z:{},U=y({},_,F),X=w[l];if(Xe(X,l))Fe({data:X,method:p,instance:r,pluginName:l,store:s});else{var q=p+":"+l;(q.match(/:/g)||[]).length<2&&!p.match(pt)&&!p.match(mt)&&r.dispatch(y({},P?U:j,{type:q,_:{called:q,from:"submethod"}}))}return Promise.resolve(U)})})}catch(_){return Promise.reject(_)}},Promise.resolve(n))).then(function(k){if(!(p.match(ge)||p.match(/^registerPlugin/)||p.match(mt)||p.match(pt)||p.match(/^params/)||p.match(/^userIdChanged/))){if(I.plugins.includes(p),k._&&k._.originalAction===p)return k;var M=y({},k,{_:{originalAction:k.type,called:k.type,from:"engineEnd"}});zt(k,t.exact.length)&&!p.match(/End$/)&&(M=y({},M,{type:k.type+"Aborted"})),s.dispatch(M)}return k})})}catch(w){return Promise.reject(w)}},ge=/Start$/,pt=/^bootstrap/,mt=/^ready/;function Fe(e){var t=e.pluginName,n=e.method+"Aborted"+(t?":"+t:"");e.store.dispatch(y({},e.data,{type:n,_:{called:n,from:"abort"}}))}function gt(e,t,n){var r=t[e]||n[e];return r&&r.config?r.config:{}}function vt(e,t){return t.reduce(function(n,r){return r[e]?n.concat({methodName:e,pluginName:r.name,method:r[e]}):n},[])}function yt(e,t){var n=e.replace(ge,""),r=t?":"+t:"";return[""+e+r,""+n+r,n+"End"+r]}function Xe(e,t){var n=e.abort;return!!n&&(n===!0||ht(n,t)||n&&ht(n.plugins,t))}function zt(e,t){var n=e.abort;if(!n)return!1;if(n===!0||pe(n))return!0;var r=n.plugins;return _e(n)&&n.length===t||_e(r)&&r.length===t}function _e(e){return Array.isArray(e)}function ht(e,t){return!(!e||!_e(e))&&e.includes(t)}function bt(e){var t=e.match(/(.*):(.*)/);return!!t&&{method:t[1],name:t[2]}}function jn(e){return Object.keys(e).reduce(function(t,n){return n==="type"||(t[n]=J(e[n])?Object.assign({},e[n]):e[n]),t},{})}function Nn(e,t,n){var r={};return function(a){return function(u){return function(c){try{var s,I=function(g){return s?g:u(p)},d=c.type,A=c.plugins,p=c;if(c.abort)return Promise.resolve(u(c));if(d===v.enablePlugin&&a.dispatch({type:v.initializeStart,plugins:A,disabled:[],fromEnable:!0,meta:c.meta}),d===v.disablePlugin&&setTimeout(function(){return dt(c.meta.rid,{payload:c})},0),d===v.initializeEnd){var P=t(),m=Object.keys(P),$=m.filter(function(g){return A.includes(g)}).map(function(g){return P[g]}),E=[],w=[],k=c.disabled,M=$.map(function(g){var l=g.loaded,D=g.name,_=g.config;return Mt(g,function(){return l({config:_})},1e4).then(function(j){return r[D]||(a.dispatch({type:v.pluginReadyType(D),name:D,events:Object.keys(g).filter(function(L){return!He.includes(L)})}),r[D]=!0),E=E.concat(D),g}).catch(function(j){if(j instanceof Error)throw new Error(j);return w=w.concat(j.name),j})});Promise.all(M).then(function(g){var l={plugins:E,failed:w,disabled:k};setTimeout(function(){m.length===M.length+k.length&&a.dispatch(y({},{type:v.ready},l))},0)})}var T=function(){if(d!==v.bootstrap)return/^ready:([^:]*)$/.test(d)&&setTimeout(function(){return Dt(a,t,e)},0),Promise.resolve(function(g,l,D,_,j){try{var L=G(l)?l():l,z=g.type,F=z.replace(ge,"");if(g._&&g._.called)return Promise.resolve(g);var U=D.getState(),X=(V=L,(B=U.plugins)===void 0&&(B={}),(Ee=g.options)===void 0&&(Ee={}),Object.keys(V).filter(function(i){var o=Ee.plugins||{};return fn(o[i])?o[i]:o.all!==!1&&(!B[i]||B[i].enabled!==!1)}).map(function(i){return V[i]}));z===v.initializeStart&&g.fromEnable&&(X=Object.keys(U.plugins).filter(function(i){var o=U.plugins[i];return g.plugins.includes(i)&&!o.initialized}).map(function(i){return L[i]}));var q=X.map(function(i){return i.name}),h=function(i,o){var f=yt(i).map(function(b){return vt(b,o)});return o.reduce(function(b,O){var S=O.name,R=yt(i,S).map(function(H){return vt(H,o)}),N=R[0],C=R[1],x=R[2];return N.length&&(b.beforeNS[S]=N),C.length&&(b.duringNS[S]=C),x.length&&(b.afterNS[S]=x),b},{before:f[0],beforeNS:{},during:f[1],duringNS:{},after:f[2],afterNS:{}})}(z,X);return Promise.resolve(Je({action:g,data:{exact:h.before,namespaced:h.beforeNS},state:U,allPlugins:L,allMatches:h,instance:D,store:_,EVENTS:j})).then(function(i){function o(){var O=function(){if(z.match(ge))return Promise.resolve(Je({action:y({},f,{type:F+"End"}),data:{exact:h.after,namespaced:h.afterNS},state:U,allPlugins:L,allMatches:h,instance:D,store:_,EVENTS:j})).then(function(S){S.meta&&S.meta.hasCallback&&dt(S.meta.rid,{payload:S})})}();return O&&O.then?O.then(function(){return i}):i}if(zt(i,q.length))return i;var f,b=function(){if(z!==F)return Promise.resolve(Je({action:y({},i,{type:F}),data:{exact:h.during,namespaced:h.duringNS},state:U,allPlugins:L,allMatches:h,instance:D,store:_,EVENTS:j})).then(function(O){f=O});f=i}();return b&&b.then?b.then(o):o()})}catch(i){return Promise.reject(i)}var V,B,Ee}(c,t,e,a,n)).then(function(g){var l=u(g);return s=1,l})}();return Promise.resolve(T&&T.then?T.then(I):I(T))}catch(g){return Promise.reject(g)}}}}}function An(e){return function(t){return function(n){return function(r){var a=r.type,u=r.key,c=r.value,s=r.options;if(a===v.setItem||a===v.removeItem){if(r.abort)return n(r);a===v.setItem?e.setItem(u,c,s):e.removeItem(u,s)}return n(r)}}}}var Tn=function(){var e=this;this.before=[],this.after=[],this.addMiddleware=function(t,n){e[n]=e[n].concat(t)},this.removeMiddleware=function(t,n){var r=e[n].findIndex(function(a){return a===t});r!==-1&&(e[n]=[].concat(e[n].slice(0,r),e[n].slice(r+1)))},this.dynamicMiddlewares=function(t){return function(n){return function(r){return function(a){var u={getState:n.getState,dispatch:function(s){return n.dispatch(s)}},c=e[t].map(function(s){return s(u)});return be.apply(void 0,c)(r)(a)}}}}};function $n(e){return function(t,n){t===void 0&&(t={});var r={};if(n.type==="initialize:aborted")return t;if(/^registerPlugin:([^:]*)$/.test(n.type)){var a=wt(n.type,"registerPlugin"),u=e()[a];if(!u||!a)return t;var c=n.enabled,s=u.config;return r[a]={enabled:c,initialized:!!c&&!u.initialize,loaded:!!c&&!!u.loaded({config:s}),config:s},y({},t,r)}if(/^initialize:([^:]*)$/.test(n.type)){var I=wt(n.type,v.initialize),d=e()[I];return d&&I?(r[I]=y({},t[I],{initialized:!0,loaded:!!d.loaded({config:d.config})}),y({},t,r)):t}if(/^ready:([^:]*)$/.test(n.type))return r[n.name]=y({},t[n.name],{loaded:!0}),y({},t,r);switch(n.type){case v.disablePlugin:return y({},t,It(n.plugins,!1,t));case v.enablePlugin:return y({},t,It(n.plugins,!0,t));default:return t}}}function wt(e,t){return e.substring(t.length+1,e.length)}function It(e,t,n){return e.reduce(function(r,a){return r[a]=y({},n[a],{enabled:t}),r},n)}function Lt(e){try{return JSON.parse(JSON.stringify(e))}catch{}return e}var Mn={last:{},history:[]};function Dn(e,t){e===void 0&&(e=Mn);var n=t.options,r=t.meta;if(t.type===v.track){var a=Lt(y({event:t.event,properties:t.properties},Object.keys(n).length&&{options:n},{meta:r}));return y({},e,{last:a,history:e.history.concat(a)})}return e}var zn={actions:[]};function Ln(e,t){e===void 0&&(e=zn);var n=t.payload;switch(t.type){case"queue":var r;return r=n&&n.type&&n.type===v.identify?[t].concat(e.actions):e.actions.concat(t),y({},e,{actions:r});case"dequeue":return[];default:return e}}var Ut=/#.*$/;function Un(e){var t=/(http[s]?:\/\/)?([^\/\s]+\/)(.*)/g.exec(e);return"/"+(t&&t[3]?t[3].split("?")[0].replace(Ut,""):"")}var Ct,qt,Rt,Vt,Cn=function(e){if(e===void 0&&(e={}),!W)return e;var t=document,n=t.title,r=t.referrer,a=window,u=a.location,c=a.innerWidth,s=a.innerHeight,I=u.hash,d=u.search,A=function(P){var m=function(){if(W){for(var $,E=document.getElementsByTagName("link"),w=0;$=E[w];w++)if($.getAttribute("rel")==="canonical")return $.getAttribute("href")}}();return m?m.match(/\?/)?m:m+P:window.location.href.replace(Ut,"")}(d),p={title:n,url:A,path:Un(A),hash:I,search:d,width:c,height:s};return r&&r!==""&&(p.referrer=r),y({},p,e)},qn={last:{},history:[]};function Rn(e,t){e===void 0&&(e=qn);var n=t.options;if(t.type===v.page){var r=Lt(y({properties:t.properties,meta:t.meta},Object.keys(n).length&&{options:n}));return y({},e,{last:r,history:e.history.concat(r)})}return e}Ct=function(){if(!W)return!1;var e=navigator.appVersion;return~e.indexOf("Win")?"Windows":~e.indexOf("Mac")?"MacOS":~e.indexOf("X11")?"UNIX":~e.indexOf("Linux")?"Linux":"Unknown OS"}(),qt=W?document.referrer:null,Rt=hn(),Vt=bn();var Et={initialized:!1,sessionId:Ce(),app:null,version:null,debug:!1,offline:!!W&&!navigator.onLine,os:{name:Ct},userAgent:W?navigator.userAgent:"node",library:{name:Ge,version:"0.13.1"},timezone:Vt,locale:Rt,campaign:{},referrer:qt};function Vn(e,t){e===void 0&&(e=Et);var n=e.initialized,r=t.campaign;switch(t.type){case v.campaign:return y({},e,{campaign:r});case v.offline:return y({},e,{offline:!0});case v.online:return y({},e,{offline:!1});default:return n?e:y({},Et,e,{initialized:!0})}}var Bn=["plugins","reducers","storage"];function Jn(e,t,n){if(W){var r=window[(n?"add":"remove")+"EventListener"];e.split(" ").forEach(function(a){r(a,t)})}}function Fn(e){var t=Jn.bind(null,"online offline",function(n){return Promise.resolve(!navigator.onLine).then(e)});return t(!0),function(n){return t(!1)}}function Bt(){return le(Ge,[]),function(e){return function(t,n,r){var a=e(t,n,r),u=a.dispatch;return Object.assign(a,{dispatch:function(c){return he[ye][Ge].push(c.action||c),u(c)}})}}}function Pt(e){return function(){return be(be.apply(null,arguments),Bt())}}function Ye(e){return e?pn(e)?e:[e]:[]}function St(e,t,n){e===void 0&&(e={});var r,a,u=Ce();return t&&(Pe[u]=(r=t,a=function(c){for(var s,I=c||Array.prototype.slice.call(arguments),d=0;d<I.length;d++)if(G(I[d])){s=I[d];break}return s}(n),function(c){a&&a(c),r(c)})),y({},e,{rid:u,ts:new Date().getTime()},t?{hasCallback:!0}:{})}function Xn(e){e===void 0&&(e={});var t=e.reducers||{},n=e.initialUser||{},r=(e.plugins||[]).reduce(function(i,o){if(G(o))return i.middlewares=i.middlewares.concat(o),i;if(o.NAMESPACE&&(o.name=o.NAMESPACE),!o.name)throw new Error("https://lytics.dev/errors/1");o.config||(o.config={});var f=o.EVENTS?Object.keys(o.EVENTS).map(function(S){return o.EVENTS[S]}):[];i.pluginEnabled[o.name]=!(o.enabled===!1||o.config.enabled===!1),delete o.enabled,o.methods&&(i.methods[o.name]=Object.keys(o.methods).reduce(function(S,R){var N;return S[R]=(N=o.methods[R],function(){for(var C=Array.prototype.slice.call(arguments),x=new Array(N.length),H=0;H<C.length;H++)x[H]=C[H];return x[x.length]=l,N.apply({instance:l},x)}),S},{}),delete o.methods);var b=Object.keys(o).concat(f),O=new Set(i.events.concat(b));if(i.events=Array.from(O),i.pluginsArray=i.pluginsArray.concat(o),i.plugins[o.name])throw new Error(o.name+"AlreadyLoaded");return i.plugins[o.name]=o,i.plugins[o.name].loaded||(i.plugins[o.name].loaded=function(){return!0}),i},{plugins:{},pluginEnabled:{},methods:{},pluginsArray:[],middlewares:[],events:[]}),a=e.storage?e.storage:{getItem:se,setItem:le,removeItem:we},u=function(i){return function(o,f,b){return f.getState("user")[o]||(b&&J(b)&&b[o]?b[o]:ft(i)[o]||se(Ke(o))||null)}}(a),c=r.plugins,s=r.events.filter(function(i){return!He.includes(i)}).sort(),I=new Set(s.concat($e).filter(function(i){return!He.includes(i)})),d=Array.from(I).sort(),A=function(){return c},p=new Tn,P=p.addMiddleware,m=p.removeMiddleware,$=p.dynamicMiddlewares,E=function(){throw new Error("Abort disabled inListener")},w=wn(),k=ft(a),M=y({},k,n,w.an_uid?{userId:w.an_uid}:{},w.an_aid?{anonymousId:w.an_aid}:{});M.anonymousId||(M.anonymousId=Ce());var T=y({enable:function(i,o){return new Promise(function(f){h.dispatch({type:v.enablePlugin,plugins:Ye(i),_:{originalAction:v.enablePlugin}},f,[o])})},disable:function(i,o){return new Promise(function(f){h.dispatch({type:v.disablePlugin,plugins:Ye(i),_:{originalAction:v.disablePlugin}},f,[o])})}},r.methods),g=!1,l={identify:function(i,o,f,b){try{var O=pe(i)?i:null,S=J(i)?i:o,R=f||{},N=l.user();le(Ke(te),O);var C=O||S.userId||u(te,l,S);return Promise.resolve(new Promise(function(x){h.dispatch(y({type:v.identifyStart,userId:C,traits:S||{},options:R,anonymousId:N.anonymousId},N.id&&N.id!==O&&{previousId:N.id}),x,[o,f,b])}))}catch(x){return Promise.reject(x)}},track:function(i,o,f,b){try{var O=J(i)?i.event:i;if(!O||!pe(O))throw new Error("EventMissing");var S=J(i)?i:o||{},R=J(f)?f:{};return Promise.resolve(new Promise(function(N){h.dispatch({type:v.trackStart,event:O,properties:S,options:R,userId:u(te,l,o),anonymousId:u(de,l,o)},N,[o,f,b])}))}catch(N){return Promise.reject(N)}},page:function(i,o,f){try{var b=J(i)?i:{},O=J(o)?o:{};return Promise.resolve(new Promise(function(S){h.dispatch({type:v.pageStart,properties:Cn(b),options:O,userId:u(te,l,b),anonymousId:u(de,l,b)},S,[i,o,f])}))}catch(S){return Promise.reject(S)}},user:function(i){if(i===te||i==="id")return u(te,l);if(i===de||i==="anonId")return u(de,l);var o=l.getState("user");return i?at(o,i):o},reset:function(i){return new Promise(function(o){h.dispatch({type:v.resetStart},o,i)})},ready:function(i){return g&&i({plugins:T,instance:l}),l.on(v.ready,function(o){i&&i(o),g=!0})},on:function(i,o){if(!i||!G(o))return!1;if(i===v.bootstrap)throw new Error(".on disabled for "+i);var f=/Start$|Start:/;if(i==="*"){var b=function(N){return function(C){return function(x){return x.type.match(f)&&o({payload:x,instance:l,plugins:c}),C(x)}}},O=function(N){return function(C){return function(x){return x.type.match(f)||o({payload:x,instance:l,plugins:c}),C(x)}}};return P(b,Ne),P(O,Ae),function(){m(b,Ne),m(O,Ae)}}var S=i.match(f)?Ne:Ae,R=function(N){return function(C){return function(x){return x.type===i&&o({payload:x,instance:l,plugins:c,abort:E}),C(x)}}};return P(R,S),function(){return m(R,S)}},once:function(i,o){if(!i||!G(o))return!1;if(i===v.bootstrap)throw new Error(".once disabled for "+i);var f=l.on(i,function(b){o({payload:b.payload,instance:l,plugins:c,abort:E}),f()});return f},getState:function(i){var o=h.getState();return i?at(o,i):Object.assign({},o)},dispatch:function(i){var o=pe(i)?{type:i}:i;if($e.includes(o.type))throw new Error("reserved action "+o.type);var f=y({},o,{_:y({originalAction:o.type},i._||{})});h.dispatch(f)},enablePlugin:T.enable,disablePlugin:T.disable,plugins:T,storage:{getItem:a.getItem,setItem:function(i,o,f){h.dispatch({type:v.setItemStart,key:i,value:o,options:f})},removeItem:function(i,o){h.dispatch({type:v.removeItemStart,key:i,options:o})}},setAnonymousId:function(i,o){l.storage.setItem(re,i,o)},events:{core:$e,plugins:s}},D=r.middlewares.concat([function(i){return function(o){return function(f){return f.meta||(f.meta=St()),o(f)}}},$(Ne),Nn(l,A,{all:d,plugins:s}),An(a),_n(l),xn(l),$(Ae)]),_={context:Vn,user:On(a),page:Rn,track:Dn,plugins:$n(A),queue:Ln},j=be,L=be;if(W&&e.debug){var z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__;z&&(j=z({trace:!0,traceLimit:25})),L=function(){return arguments.length===0?Bt():J(typeof arguments[0])?Pt():Pt().apply(null,arguments)}}var F,U=function(i){return Object.keys(i).reduce(function(o,f){return Bn.includes(f)||(o[f]=i[f]),o},{})}(e),X=r.pluginsArray.reduce(function(i,o){var f=o.name,b=o.config,O=o.loaded,S=r.pluginEnabled[f];return i[f]={enabled:S,initialized:!!S&&!o.initialize,loaded:!!O({config:b}),config:b},i},{}),q={context:U,user:M,plugins:X},h=$t(function(i){for(var o=Object.keys(i),f={},b=0;b<o.length;b++){var O=o[b];typeof i[O]===ne&&(f[O]=i[O])}var S,R=Object.keys(f);try{(function(N){Object.keys(N).forEach(function(C){var x=N[C];if(typeof x(void 0,{type:We})===Q||typeof x(void 0,{type:En})===Q)throw new Error(Se+" "+C+" "+Q)})})(f)}catch(N){S=N}return function(N,C){if(N===void 0&&(N={}),S)throw S;for(var x=!1,H={},Ve=0;Ve<R.length;Ve++){var xe=R[Ve],it=N[xe],Be=(0,f[xe])(it,C);if(typeof Be===Q){var Wt=Pn(xe,C);throw new Error(Wt)}H[xe]=Be,x=x||Be!==it}return x?H:N}}(y({},_,t)),q,L(j(Sn.apply(void 0,D))));h.dispatch=(F=h.dispatch,function(i,o,f){var b=y({},i,{meta:St(i.meta,o,Ye(f))});return F.apply(null,[b])});var V=Object.keys(c);h.dispatch({type:v.bootstrap,plugins:V,config:U,params:w,user:M,initialUser:n,persistedUser:k});var B=V.filter(function(i){return r.pluginEnabled[i]}),Ee=V.filter(function(i){return!r.pluginEnabled[i]});return h.dispatch({type:v.registerPlugins,plugins:V,enabled:r.pluginEnabled}),r.pluginsArray.map(function(i,o){var f=i.bootstrap,b=i.config,O=i.name;f&&G(f)&&f({instance:l,config:b,payload:i}),h.dispatch({type:v.registerPluginType(O),name:O,enabled:r.pluginEnabled[O],plugin:i}),r.pluginsArray.length===o+1&&h.dispatch({type:v.initializeStart,plugins:B,disabled:Ee})}),Fn(function(i){h.dispatch({type:i?v.offline:v.online})}),function(i,o,f){setInterval(function(){return Dt(i,o,f)},3e3)}(h,A,l),l}var Ne="before",Ae="after",ue="cookie",ie=Xt(),Jt=qe,Yn=qe;function Ft(e){return ie?qe(e,"",-1):we(e)}function Xt(){if(ie!==void 0)return ie;var e=ue+ue;try{qe(e,e),ie=document.cookie.indexOf(e)!==-1,Ft(e)}catch{ie=!1}return ie}function qe(e,t,n,r,a,u){if(typeof window<"u"){var c=arguments.length>1;return ie===!1&&(c?le(e,t):se(e)),c?document.cookie=e+"="+encodeURIComponent(t)+(n?"; expires="+new Date(+new Date+1e3*n).toUTCString()+(r?"; path="+r:"")+(a?"; domain="+a:"")+(u?"; secure":""):""):decodeURIComponent((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])}}var Z="localStorage",Wn=Qe.bind(null,Z);Ie(Z,"getItem",se);Ie(Z,"setItem",le);Ie(Z,"removeItem",we);var ee="sessionStorage",Gn=Qe.bind(null,ee);Ie(ee,"getItem",se);Ie(ee,"setItem",le);Ie(ee,"removeItem",we);function ve(e){var t=e;try{if((t=JSON.parse(e))==="true")return!0;if(t==="false")return!1;if(J(t))return t;parseFloat(t)===t&&(t=parseFloat(t))}catch{}if(t!==null&&t!=="")return t}var Hn=Wn(),Kn=Gn(),Qn=Xt();function Yt(e,t){if(e){var n=Ze(t),r=!rt(n),a=et(n)?ve(localStorage.getItem(e)):void 0;if(r&&!fe(a))return a;var u=tt(n)?ve(Jt(e)):void 0;if(r&&u)return u;var c=nt(n)?ve(sessionStorage.getItem(e)):void 0;if(r&&c)return c;var s=se(e);return r?s:{localStorage:a,sessionStorage:c,cookie:u,global:s}}}function Zn(e,t,n){if(e&&!fe(t)){var r={},a=Ze(n),u=JSON.stringify(t),c=!rt(a);return et(a)&&(r[Z]=Te(Z,t,ve(localStorage.getItem(e))),localStorage.setItem(e,u),c)?r[Z]:tt(a)&&(r[ue]=Te(ue,t,ve(Jt(e))),Yn(e,u),c)?r[ue]:nt(a)&&(r[ee]=Te(ee,t,ve(sessionStorage.getItem(e))),sessionStorage.setItem(e,u),c)?r[ee]:(r[ae]=Te(ae,t,se(e)),le(e,t),c?r[ae]:r)}}function er(e,t){if(e){var n=Ze(t),r=Yt(e,kt),a={};return!fe(r.localStorage)&&et(n)&&(localStorage.removeItem(e),a[Z]=r.localStorage),!fe(r.cookie)&&tt(n)&&(Ft(e),a[ue]=r.cookie),!fe(r.sessionStorage)&&nt(n)&&(sessionStorage.removeItem(e),a[ee]=r.sessionStorage),!fe(r.global)&&Re(n,ae)&&(we(e),a[ae]=r.global),a}}function Ze(e){return e?pe(e)?e:e.storage:xt}function et(e){return Hn&&Re(e,Z)}function tt(e){return Qn&&Re(e,ue)}function nt(e){return Kn&&Re(e,ee)}function rt(e){return e===kt||e==="all"}function Re(e,t){return e===xt||e===t||rt(e)}function Te(e,t,n){return{location:e,current:t,previous:n}}var tr={setItem:Zn,getItem:Yt,removeItem:er};function nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_t(Object(n),!0).forEach(function(r){nr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t={storage:tr};return Xn(Ot(Ot({},t),e))}const ir=!0,ar=[Gt({counterId:"25559621",enabled:ir,mapEvents:{signed_up:"ym-register",signed_in:"ym-login",program_started:"ym-start-course",lead_created:"ym-submit-leadform",email_confirmed:"ym-confirm-contact"}})],K=rr({debug:!1,app:"hexlet",version:100,plugins:ar}),or=window.gon.fired_events,ur=Object.entries(or).map(([e,t])=>({type:e,data:t}));for(const e of ur)switch(e.type){case"signed_up":K.identify(e.data.id.toString(),e.data),K.track("signed_up",e.data);break;case"signed_in":K.identify(e.data.id.toString(),e.data),K.track("signed_in",e.data);break;case"sign_up_failed":K.track("sign_up_failed",e.data);break;case"program_started":K.track("program_started",e.data);break;case"lesson_started":K.track("lesson_started",e.data);break;case"lead_created":K.track("lead_created",e.data);break;case"email_confirmed":K.track("email_confirmed",e.data);break}
